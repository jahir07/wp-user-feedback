<?xml version="1.0"?>
<ruleset name="WordPress Plugin">
  <description>WordPress Core/Extra/Docs + PHPCompatibility (plugin).</description>

  <!-- Scan the repo -->
  <file>./</file>

  <!-- Exclusions -->
  <exclude-pattern>vendor/*</exclude-pattern>
  <exclude-pattern>node_modules/*</exclude-pattern>
  <exclude-pattern>assets/*</exclude-pattern>
  <exclude-pattern>*.min.js</exclude-pattern>
  <exclude-pattern>*.min.css</exclude-pattern>
  <exclude-pattern>tests/*</exclude-pattern>
  <exclude-pattern>build/*</exclude-pattern>
  <exclude-pattern>dist/*</exclude-pattern>

  <!-- Output with sniff codes -->
  <arg value="ps"/>
  <!-- Only scan PHP-like files -->
  <arg name="extensions" value="php,inc,php.stub"/>
  
  <!-- Standards -->
  <rule ref="WordPress-Core"/>
  <rule ref="WordPress-Extra"/>
  <rule ref="WordPress-Docs"/>

  <!-- PHP min version (adjust as needed) -->
  <config name="testVersion" value="7.4-"/>

  <!-- Compatibility with WP polyfills -->
  <rule ref="PHPCompatibilityWP"/>

  <!-- Enforce correct text domain -->
  <rule ref="WordPress.WP.I18n">
    <properties>
      <property name="text_domain" type="array">
        <element value="wpuserfeedback"/>
      </property>
    </properties>
  </rule>

  <!-- Security-related sniffs -->
  <rule ref="WordPress.Security.EscapeOutput"/>
  <rule ref="WordPress.Security.NonceVerification"/>
  <rule ref="WordPress.DB.PreparedSQL"/>
  <rule ref="WordPress">
		<!-- PSR4 -->
		<exclude name="WordPress.Files.FileName.InvalidClassFileName"/>
		<exclude name="WordPress.Files.FileName.NotHyphenatedLowercase"/>
	</rule>

  <!-- Allow selective suppressions (uncomment if genuinely needed)
  <exclude name="WordPress.Security.NonceVerification.Recommended"/>
  -->
</ruleset>
